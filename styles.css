:root{
  --bg:#0f0f10;
  --panel:#17181a;
  --panel2:#1e1f22;
  --text:#f4f4f5;
  --muted:#a1a1aa;
  --line:#2a2b31;
  --accent:#ff9f1a;
  --grid:#8b8b8b; /* grey grid for both */
}

[data-theme="light"]{
  --bg:#ffffff;
  --panel:#f3f4f6;
  --panel2:#ffffff;
  --text:#0b0b0c;
  --muted:#52525b;
  --line:#d4d4d8;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}

.topbar{
  height:56px;
  display:flex;
  align-items:center;
  gap:10px;
  padding:0 12px;
  border-bottom:1px solid var(--line);
  background:var(--panel);
}
.title{ font-weight:700; }
.spacer{ flex:1; }

.app{
  height:calc(100vh - 56px);
  display:grid;
  grid-template-columns: 240px 1fr 360px;
}

.left, .right{
  background:var(--panel);
  border-right:1px solid var(--line);
  padding:12px;
}
.right{
  border-right:none;
  border-left:1px solid var(--line);
}

.center{ display:flex; align-items:center; justify-content:center; padding:12px; }
.canvasWrap{
  position:relative;
  width:min(100%, 1100px);
  aspect-ratio: 3 / 2;
  background: transparent;
  border:1px solid var(--line);
  border-radius:14px;
  overflow:hidden;
}
canvas{ position:absolute; inset:0; width:100%; height:100%; }

.segmented{
  display:flex;
  background:var(--panel2);
  border:1px solid var(--line);
  border-radius:10px;
  overflow:hidden;
  margin-bottom:12px;
}
.seg{
  flex:1;
  background:transparent;
  color:var(--muted);
  border:none;
  padding:10px 0;
  font-weight:600;
}
.seg.on{ color:var(--text); background:rgba(255,255,255,0.06); }

.tools{ display:flex; flex-direction:column; gap:8px; }
.tool{
  text-align:left;
  padding:12px;
  border-radius:12px;
  border:1px solid var(--line);
  background:var(--panel2);
  color:var(--text);
  font-weight:650;
}
.tool.on{ outline:2px solid rgba(255,159,26,0.55); }

.btn{
  border:1px solid var(--line);
  background:var(--panel2);
  color:var(--text);
  padding:10px 12px;
  border-radius:10px;
  font-weight:650;
}
.iconBtn{
  border:1px solid var(--line);
  background:var(--panel2);
  color:var(--text);
  width:38px; height:38px;
  border-radius:10px;
}

.inspectorHeader{
  display:flex; align-items:center; justify-content:space-between;
  margin-bottom:10px;
}
.inspectorTitle{ font-size:20px; font-weight:800; }

.group{ border:1px solid var(--line); border-radius:12px; overflow:hidden; margin-bottom:10px; background:var(--panel2); }
.groupHeader{
  width:100%;
  text-align:left;
  padding:10px 12px;
  border:none;
  background:rgba(255,255,255,0.04);
  color:var(--accent);
  font-weight:800;
}
.groupBody{ padding:10px 12px; display:flex; flex-direction:column; gap:10px; }
.row{ display:flex; align-items:center; gap:10px; }
.row label{ width:90px; color:var(--muted); font-weight:650; }
.row input[type="number"], .row select, textarea, .code{
  flex:1;
  background:rgba(0,0,0,0.12);
  border:1px solid var(--line);
  color:var(--text);
  border-radius:10px;
  padding:10px;
}
.buttons{ gap:8px; }
.chip{
  width:40px; height:40px;
  border-radius:10px;
  border:1px solid var(--line);
  background:rgba(0,0,0,0.12);
  color:var(--accent);
  font-weight:900;
}

dialog{ border:none; padding:0; background:transparent; }
.modal{
  width:min(720px, 92vw);
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:16px;
  overflow:hidden;
}
.modalWide{ width:min(1000px, 95vw); }
.modalHeader{ display:flex; align-items:center; justify-content:space-between; padding:12px; border-bottom:1px solid var(--line); }
.modalBody{ padding:12px; }
.previewCard{ border:1px solid var(--line); border-radius:14px; overflow:hidden; background:var(--panel2); }
.previewBody{ display:flex; justify-content:center; }
.code{ max-height:220px; overflow:auto; }

@media (max-width: 980px){
  .app{ grid-template-columns: 84px 1fr; }
  .right{ display:none; }
  .left{ width:auto; padding:10px; }
  .tool{ text-align:center; }
}
